<!DOCTYPE html>
<html lang="pl">
	<head>
        <meta charset="UTF-8">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

	    <meta name="viewport" content="width = devide-width, initial-scale = 1">
		<meta name="description" content="Relative ear trainer">
		<meta name="keywords" content="Relative, ear, trainer, aplikacja, do, trenowania, słuchu, relatywnego">
		<meta name="author" content="Tomasz Walasik">

		<link rel="stylesheet" href="{{ url_for('static', filename='stylesheet.css') }}" type="text/css" >
        <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='images/logo.png') }}"/>
		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

        <script src="{{ url_for('static', filename='jquery-3.4.1.js') }}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/scrollify/1.0.19/jquery.scrollify.js" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='scripts.js') }}" type="text/javascript"></script>

        <title>Trener słuchu relatywnego</title>
	</head>

    <body>
             <div id="login">
                <div id="load_login">
                 {% if session['username'] != None %}
                     {{ session['username'] }}
                     <a data-logout="True" onClick="get_logout($(this).data('logout'));">Wyloguj!</a>
                 {% else %}
                     <a href="{{ url_for("log")}}">Zaloguj</a>
                     <a href="{{ url_for("reg")}}">Zarejestruj</a>
                 {% endif %}
                </div>
             </div>

            <div class="section" id="start">
                <div class="box">
                    <h1>TRENER SŁUCHU</h1>
                    <hr>
                    <p>Trener słuchu relatywnego to aplikacja, która pomaga muzykom w kształceniu słuchu na różnym poziomie edukacji. Oprócz tradycyjnego rozpoznawania wysokości dźwięku i interwałów, aplikacja
                    pomaga ćwiczyć rozpoznawanie typów akordów. Po zalogowaniu się użytkownik może monitorować swoje statystyki w obrębie danego ćwiczenia. Początkującym adeptom teorii muzyki w pierwszej kolejności
                    zalecane jest opanowanie rozpoznawania wysokości dźwięków, by potem przejść płynnie w stronę trudniejszej już identyfikacji interwałów po nazwie. Jako bonus dodany jest tryb rozponawania akordów.
                    Akord mollowy licząc od unisonu to dwa interwały grane jednocześnie: tercja mała i kwinta czysta, akord Durowy natomiast to tercja wielka i kwinta czysta.
                    </p>
                    <div id="jumping_arrow">
                        Trenuj!
                        <p><img src="{{ url_for('static', filename='images/arrow.png') }}" alt="Play" width="250" height="250"></p>
                    </div>
                </div>
            </div>

            <div class="section" id="game">
                <div class="box">
                        <h1>TRENING</h1>
                        <hr>
                        <div id="gameboard">
                                <button id="button1" class="game_mode_buttons" data-game_mode="wysokosc" onClick="get_game_mode($(this).data('game_mode'));">Wysokość</button>
                                <button id="button2" class="game_mode_buttons" data-game_mode="interwaly" onClick="get_game_mode($(this).data('game_mode'));">Interwały</button>
                                <button id="button3" class="game_mode_buttons" data-game_mode="akordy" onClick="get_game_mode($(this).data('game_mode'));">Akordy</button>
                            <hr class="hr_on_gameboard">
                            <div id="load">
                                {% if session['game_mode'] %}
                                    <!--GAMEBOARD-->
                                    <p>
                                        {% if session['game_mode'] == 'wysokosc' or session['game_mode'] == 'interwaly' %}
                                            <button class="playButton" onClick="playTone({{ session['dzwiekA'] }}); setTimeout(function(){playTone({{ session['dzwiekB'] }})}, 700);"><img id="play" src={{ url_for('static', filename='images/logo.png') }}></button>
                                        {% elif session['game_mode'] == 'akordy' %}
                                            <button class="playButton" onClick="playTone(chord['{{ session['akord']}}']);"><img id="play" src={{ url_for('static', filename='images/logo.png') }}></button>
                                        {% endif %}
                                    </p>
                                    <!--PRZYCISK GRAJACY DŹWIĘKI-->
                                    <p id="pytanie">
                                        <u>
                                            <!--PYTANIA-->
                                            {% if session['odpowiedzi'] %}
                                                {% if session['game_mode'] == 'wysokosc' %}Drugi dźwięk w stosunku do pierwszego jest?
                                                {% elif session['game_mode'] == 'interwaly' %}Jaki to interwal?
                                                {% else %}Jaki to typ akordu?
                                                {% endif %}
                                            {% endif %}
                                        </u>
                                    </p>
                                    <hr>
                                    <!--ODPOWIEDZI-->
                                    {% for x in session['odpowiedzi']%}
                                        <button class="odpowiedzi" data-response="{{ x }}" onClick="get_response($(this).data('response'));">{{ x }}</button>
                                    {% endfor %}
                                    <hr class="hr_on_gameboard">
                                    <div id ="feedback">
                                        <!--ODPOWIEDZ Z POPRAWNOSIA-->
                                        {% if session['sprawdzenie'] != None %}
                                            <p class="choice">{{ session['sprawdzenie'] }}</p>
                                        {% endif %}
                                    </div>
                                    <hr>
                                    <!--STATYSTYKI-->
                                    <p>
                                        {% if session['username'] %}
                                            Statystyki:
                                            {% if session['game_mode'] == 'wysokosc' %}
                                                {% if (session['wysokoscStatPopr'] + session['wysokoscStatBled']) != 0 %}
                                                    {{ (session['wysokoscStatPopr'] * 100 / (session['wysokoscStatPopr'] + session['wysokoscStatBled'])) | int }}%
                                                {% elif session['wysokoscStatPopr'] != 0 %}
                                                    100%
                                                {% elif (session['wysokoscStatPopr'] + session['wysokoscStatBled']) == 0  %}
                                                    0%
                                                {% endif %}
                                            {% elif session['game_mode'] == 'interwaly' %}
                                                {% if (session['interwalyStatPopr'] + session['interwalyStatBled']) != 0 %}
                                                    {{ (session['interwalyStatPopr'] * 100 / (session['interwalyStatPopr'] + session['interwalyStatBled'])) | int }}%
                                                {% elif session['interwalyStatPopr'] != 0 %}
                                                    100%
                                                {% elif (session['interwalyStatPopr'] + session['interwalyStatBled']) == 0  %}
                                                    0%
                                                {% endif %}
                                            {% elif session['game_mode'] == 'akordy' %}
                                                {% if (session['akordyStatPopr'] + session['akordyStatBled']) != 0 %}
                                                    {{ (session['akordyStatPopr'] * 100 / (session['akordyStatPopr'] + session['akordyStatBled'])) | int }}%
                                                {% elif session['akordyStatPopr'] != 0 %}
                                                         100%
                                                {% elif (session['akordyStatPopr'] + session['akordyStatBled']) == 0  %}
                                                         0%
                                                {% endif %}

                                            {% endif %}
                                        {% else %}
                                            <a href="{{ url_for("log") }}">Zaloguj się</a> aby monitorować statystyki
                                        {% endif %}
                                        <!--PRZYCISK RESETUJACY STATYSTYKI-->
                                        {% if session['username'] %}
                                            <button id="reset" data-reset="True" onClick="get_reset($(this).data('reset'));">Zresetuj statystyki!</button>
                                        {% endif %}
                                    </p>
                                {% else %}
                                    <p class="choice">Wybierz trening</p>
                                {% endif %}
                            </div>
                            <div class="resize"></div>
                        </div>
                </div>
            </div>

            <div class="section" id="description">
                <div class="box">
                    <div class="resize"></div>
                        <h1>O PRACY</h1>
                        <hr>
                        <p>Aplikacja jest pracą dyplomową zwięczającą studia licencjackie na kierunku "Elektronicznie Przetwarzanie Informacji" na Uniwersytecie Jagiellońskim.
                            Promotorem pracy jest dr hab. Grzegorz Biliński prof. ASP. Projekt został napisany w języku Python wykorzystując przy tym microframework Flask, plugin Scrollify,
                            bilbiotekę simpleTones.js, a także baze danych SQLite obsługiwaną za pomocą SQLAlchemy. Strona jest w pełni responsywna.</p>
                        <p><i><u>Autor: Tomasz Walasik</u></i></p>
                        <p><i><u>Kontakt: twalasik7@gmail.com</u></i></p>
                        <img id="UJ" src={{ url_for('static', filename='images/UJ_logo.png') }}>
                </div>
            </div>
            <footer>
                <div id="footerText">
                    Prawa autorskie zastrzeżone Uniwerstet Jagiellonski  © 2019
                </div>
            </footer>
	</body>
</html>